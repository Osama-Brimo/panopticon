{"version":3,"file":"panopticon.js","mappings":"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","sources":["webpack://panopticon/./src/game/features/saveLoad.ts","webpack://panopticon/./src/game/st/listeners.ts","webpack://panopticon/./src/game/template/classes/Entities/Area.ts","webpack://panopticon/./src/game/template/classes/Entities/Item.ts","webpack://panopticon/./src/game/template/classes/Entities/NPC.ts","webpack://panopticon/./src/game/template/classes/Entities/Player.ts","webpack://panopticon/./src/game/template/classes/Game/Event.ts","webpack://panopticon/./src/game/template/classes/Game/Flag.ts","webpack://panopticon/./src/game/template/classes/Game/State.ts","webpack://panopticon/./src/game/template/classes/Mechanics/Inventory.ts","webpack://panopticon/./src/game/template/classes/Participants/Human.ts","webpack://panopticon/./src/game/template/instances/Area/Foyer.ts","webpack://panopticon/./src/game/template/instances/Area/MansionExterior.ts","webpack://panopticon/./src/game/template/instances/Game/Events.ts","webpack://panopticon/./src/game/template/instances/Game/Flags.ts","webpack://panopticon/./src/game/template/instances/Game/State.ts","webpack://panopticon/./src/game/template/instances/Item/Camera.ts","webpack://panopticon/./src/game/template/instances/NPC/Char.ts","webpack://panopticon/./src/game/template/instances/Player/Player.ts","webpack://panopticon/./src/game/template/interfaces/Ables/Goable.ts","webpack://panopticon/./src/game/template/interfaces/Ables/Usable.ts","webpack://panopticon/./src/st/slash-commands.ts","webpack://panopticon/./src/utils/utils.ts","webpack://panopticon/external module \"../../../../../script.js\"","webpack://panopticon/external module \"../../../../extensions.js\"","webpack://panopticon/external module \"../../../../slash-commands/SlashCommand.js\"","webpack://panopticon/external module \"../../../../slash-commands/SlashCommandArgument.js\"","webpack://panopticon/external module \"../../../../slash-commands/SlashCommandEnumValue.js\"","webpack://panopticon/external module \"../../../../slash-commands/SlashCommandParser.js\"","webpack://panopticon/webpack/bootstrap","webpack://panopticon/webpack/runtime/define property getters","webpack://panopticon/webpack/runtime/hasOwnProperty shorthand","webpack://panopticon/webpack/runtime/make namespace object","webpack://panopticon/./src/index.ts"],"sourcesContent":["import { gameLog } from \"../../utils/utils\";\nimport { State } from \"../template/classes/Game/State\";\n\nexport function saveGameState(state: State) {\n    const serializedState = JSON.stringify(state);\n    gameLog('saveGameState', serializedState);\n    localStorage.setItem('panopticon_gameState', serializedState);\n}\n\nexport function loadGameState() {\n    const serializedState = localStorage.getItem('panopticon_gameState');\n    gameLog('loadGameState', serializedState);\n    return serializedState ? JSON.parse(serializedState) : null;\n}\n","import { getContext } from \"@sillytavern/extensions\";\nimport { $state } from \"../template/instances/Game/State\";\nimport { loadGameState, saveGameState } from \"../features/saveLoad\";\nimport { gameLog } from \"../../utils/utils\";\n\n\nexport function registerListeners() {\n    const context = getContext();\n\n    // Extension load\n    gameLog('loaded');\n    gameLog('Game State', $state);\n\n    // e: chatLoaded\n    context.eventSource.on('chatLoaded', async () => {\n        gameLog('chatLoaded Fired');\n    });\n    // e: game-state-save\n    context.eventSource.on('game-state-save', async() => {\n        gameLog('Request for game save');\n        saveGameState($state);\n    });\n    // e: game-state-load\n    context.eventSource.on('game-state-load', async () => {\n        gameLog('Request for game load');\n        loadGameState();\n    });\n}\n","import { Goable } from \"../../interfaces/Ables/Goable\";\n\nexport class Area extends Goable {\n\n  constructor(\n    name,\n    is_godel,\n    godel_type,\n    godel_cycle_num,\n    is_locked,\n    unlocked_by,\n    goables,\n    inspectables,\n    doables,\n    npcs,\n    on_enter,\n    on_exit,\n    is_saferoom\n  ) {\n    super(\n      name,\n      is_godel,\n      godel_type,\n      godel_cycle_num,\n      is_locked,\n      unlocked_by,\n      goables,\n      inspectables,\n      doables,\n      npcs,\n      on_enter,\n      on_exit\n    );\n    this.is_saferoom = is_saferoom;\n\n  }\n}\n","import { Usable } from \"../../interfaces/Ables/Usable\";\n\nexport class Item extends Usable {\n    constructor(name, description, effect, on_use, kangaeru_comment, count=0) {\n        super(name, description, effect, on_use);\n        this.kangaeru_comment = kangaeru_comment;\n        this.count = count;\n        }\n}\n","import { Talkable } from \"../../interfaces/Ables/Talkable\";\n\n// NPC is always an AI assistant.\nexport class NPC implements Talkable {\n    description: string;\n    name: string;\n    onTalk: () => {};\n\n    constructor(name, description, onTalk) {\n        this.name = name;\n        this.description = description;\n        this.onTalk = onTalk;\n    }\n}\n","import { Human } from \"../Participants/Human\";\n\nexport class Player extends Human {\n    constructor(name) {\n        super(name);\n    }\n}\n","export class Event {\n    constructor(name, description, on_event) {\n        this.name = name;\n        this.description = description;\n        this.on_event = on_event;\n    }\n}","export class Flag {\n    constructor(name, value) {\n        this.name = name;\n        this.value = value;\n    }\n}","export class State {\n  constructor(\n    user,\n    char,\n    area,\n    inventory,\n    frozen_tear_count,\n    inspectables,\n    goables,\n    doables,\n    talkables,\n    cycle,\n    time,\n    flags,\n    event_queue,\n    cmd_queue\n  ) {\n    this.user = user;\n    this.char = char;\n    this.area = area;\n\n    this.inventory = inventory;\n    this.frozen_tear_count = frozen_tear_count;\n\n    this.inspectables = inspectables;\n    this.goables = goables;\n    this.doables = doables;\n    this.talkables = talkables;\n\n    this.cycle = cycle;\n    this.time = time;\n\n    this.flags = flags;\n\n    this.event_queue = event_queue;\n    this.cmd_queue = cmd_queue;\n  }\n\n  processCmdQueue() {\n    this.cmd_queue.forEach((CMD) => {\n      let { type, target } = CMD;\n    });\n  }\n}\n","export class Inventory {\n    constructor(items, size) {\n        this.items = items;\n        this.size = size;\n    }\n}","// Represents the human player\nexport class Human {\n    constructor(name) {\n        this.name = name;\n    }\n}\n","import { Area } from '../../classes/Entities/Area';\nimport { Event_EnterMansion } from '../Game/Events';\n\nexport const Area_Foyer = new Area(\"Foyer\", false, null, null, false, null, [], [], [], [], [Event_EnterMansion], null, false);\n","\nimport { Area } from \"../../classes/Entities/Area\";\nimport { Area_Foyer } from \"./Foyer\";\n\nexport const Area_MansionExterior = new Area(\"Mansion Exterior\", false, null, null, false, null, [Area_Foyer], [], [], [], null, null, false);\n","import { Event } from \"../../classes/Game/Event\";\n\nexport const Event_EnterMansion = new Event(\"Enter Mansion\", \"You enter the mansion.\", () => {});\n","import { Flag } from \"../../classes/Game/Flag\";\n\nexport const DID_FIRST_TUTORIAL = new Flag(\"FIRST_TUTORIAL\", false);\n","import { State } from \"../../classes/Game/State\";\nimport { Inventory } from \"../../classes/Mechanics/Inventory\";\nimport { Area_MansionExterior } from \"../Area/MansionExterior\";\nimport { Item_Camera } from \"../Item/Camera\";\nimport { $char } from \"../NPC/Char\";\nimport { $player } from \"../Player/Player\";\nimport { DID_FIRST_TUTORIAL } from \"./Flags\";\n\n\nconst startingArea = Area_MansionExterior;\nconst startingInventory = new Inventory([Item_Camera], 5);\nconst startingTime = \"16:31\";\n\nexport const $state = new State(\n  $player,\n  $char,\n  startingArea,\n  startingInventory,\n  0,\n  startingArea.inspectables,\n  startingArea.goables,\n  startingArea.doables,\n  [$char],\n  0,\n  startingTime,\n  [DID_FIRST_TUTORIAL],\n  [],\n  []\n);\n","import { Item } from \"../../classes/Entities/Item\";\n\nexport const Item_Camera = new Item(\"Camera\", \"A regular camera.\", \"It's a camera.\", () => {}, \"You take a picture.\", 1);\n","import { NPC } from \"../../classes/Entities/NPC\";\n\nexport const $char = new NPC(\"char's name from ST\", \"char is... something.\", () => { console.log(\"you talked to char.\") });\n","import { Player } from \"../../classes/Entities/Player\";\n\nexport const $player = new Player(\"st {{user}}\");\n","export class Goable {\n    constructor(name, is_godel, godel_type, godel_cycle_num, is_locked, unlocked_by, goables, inspectables, doables, npcs, on_enter, on_exit) {\n        this.name = name;\n        this.is_godel = is_godel;\n        this.godel_type = godel_type;\n        this.godel_cycle_num = godel_cycle_num;\n        this.is_locked = is_locked;\n        this.unlocked_by = unlocked_by;\n        this.goables = goables;\n        this.inspectables = inspectables;\n        this.doables = doables;\n        this.npcs = npcs;\n        this.on_enter = on_enter;\n        this.on_exit = on_exit;\n    }\n}","export class Usable {\n    constructor(name, description, effect, on_use) {\n        this.name = name;\n        this.description = description;\n        this.effect = effect;\n        this.on_use = on_use;\n    }\n}","import { eventSource } from '@sillytavern/../script';\nimport { SlashCommand } from '@sillytavern/slash-commands/SlashCommand';\nimport { SlashCommandArgument, ARGUMENT_TYPE, SlashCommandNamedArgument } from '@sillytavern/slash-commands/SlashCommandArgument';\nimport { SlashCommandEnumValue, enumTypes } from '@sillytavern/slash-commands/SlashCommandEnumValue';\nimport { SlashCommandParser } from '@sillytavern/slash-commands/SlashCommandParser';\n\nconst cmd_types = {\n  GO: \"GO\",\n  INSPECT: \"INSPECT\",\n  TALK: \"TALK\",\n  USE: \"USE\",\n  DO: \"DO\",\n};\n\nasync function slash_emitEvent(pipe) {\n  console.log(pipe, \"event from slash_emitEvent\");\n  await eventSource.emit(pipe);\n  return \"\";\n}\n\nasync function slash_processCMD(pipe) {\n  const { type, target } = pipe;\n\n  console.log(`TYPE:`, type);\n  console.log(`TARGET:`, target);\n\n  return \"\";\n}\n\nasync function slash_emitEvent_gameStateSave() {\n  await eventSource.emit(\"game-state-save\");\n  return \"\";\n}\n\nasync function slash_emitEvent_gameStateLoad() {\n  await eventSource.emit(\"game-state-load\");\n  return \"\";\n}\n\nexport function registerSlashCommands() {\n  // > /emit\n  SlashCommandParser.addCommandObject(\n    SlashCommand.fromProps({\n      name: \"emit\",\n      callback: slash_emitEvent,\n      aliases: [\"e\", \"event\", \"emit-event\"],\n      unnamedArgumentList: [\n        SlashCommandArgument.fromProps({\n          description: \"Name of custom event\",\n          typeList: [ARGUMENT_TYPE.STRING],\n          isRequired: true,\n        }),\n      ],\n      helpString: \"Emit a custom event.\",\n    })\n  );\n\n  // > /@cmd\n  SlashCommandParser.addCommandObject(\n    SlashCommand.fromProps({\n      name: \"@cmd\",\n      callback: slash_processCMD,\n      aliases: [\"game-cmd\"],\n      namedArgumentList: [\n        SlashCommandNamedArgument.fromProps({\n          name: \"type\",\n          description: \"Type of command\",\n          typeList: [ARGUMENT_TYPE.STRING],\n          enumList: [\n            new SlashCommandEnumValue(\n              cmd_types.GO,\n              cmd_types.GO,\n              enumTypes.enum\n            ),\n            new SlashCommandEnumValue(\n              cmd_types.INSPECT,\n              cmd_types.INSPECT,\n              enumTypes.enum\n            ),\n            new SlashCommandEnumValue(\n              cmd_types.TALK,\n              cmd_types.TALK,\n              enumTypes.enum\n            ),\n            new SlashCommandEnumValue(\n              cmd_types.USE,\n              cmd_types.USE,\n              enumTypes.enum\n            ),\n            new SlashCommandEnumValue(\n              cmd_types.DO,\n              cmd_types.DO,\n              enumTypes.enum\n            ),\n          ],\n          isRequired: true,\n        }),\n        SlashCommandNamedArgument.fromProps({\n          name: \"target\",\n          description:\n            \"Unique identifier indicating what the command is targeting.\",\n          typeList: [ARGUMENT_TYPE.STRING],\n          isRequired: true,\n        }),\n      ],\n      helpString: \"Send a request for a game command.\",\n    })\n  );\n\n  // > /@save\n  SlashCommandParser.addCommandObject(\n    SlashCommand.fromProps({\n      name: \"@save\",\n      callback: slash_emitEvent_gameStateSave,\n      aliases: [\"game-save\", \"game-state-save\"],\n      helpString:\n        \"DEV: Shorthand to emit game-state-save event, which requests to save current game state into localStorage.\",\n    })\n  );\n\n  // > /@load\n  SlashCommandParser.addCommandObject(\n    SlashCommand.fromProps({\n      name: \"@load\",\n      callback: slash_emitEvent_gameStateLoad,\n      aliases: [\"game-load\", \"game-state-load\"],\n      helpString:\n        \"DEV: Shorthand to emit game-state-load event, which requests to load current game state from localStorage.\",\n    })\n  );\n}\n","const extensionName = \"Panopticon\";\n\nexport function gameLog(label, ...args) {\n  console.log(`[${extensionName}] ${label}`, ...args);\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__script_js_588e7203__;","module.exports = __WEBPACK_EXTERNAL_MODULE__extensions_js_e625da88__;","module.exports = __WEBPACK_EXTERNAL_MODULE__slash_commands_SlashCommand_js_1b0d5616__;","module.exports = __WEBPACK_EXTERNAL_MODULE__slash_commands_SlashCommandArgument_js_a42b9371__;","module.exports = __WEBPACK_EXTERNAL_MODULE__slash_commands_SlashCommandEnumValue_js_20f1c506__;","module.exports = __WEBPACK_EXTERNAL_MODULE__slash_commands_SlashCommandParser_js_42c8b851__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerListeners } from \"./game/st/listeners\";\nimport { $state } from \"./game/template/instances/Game/State\";\nimport { registerSlashCommands } from \"./st/slash-commands\";\nimport { gameLog } from \"./utils/utils\";\n\n\nregisterSlashCommands();\n\njQuery(async () => {\n    try {\n        registerListeners();\n        gameLog(\"Gamestate:\", $state);\n    } catch (error) {\n        console.error('[Panopticon] ERROR:', error);\n    }\n});\n\n// Game | state > ST | CMD > Game | state > ST...\n"],"names":[],"sourceRoot":""}