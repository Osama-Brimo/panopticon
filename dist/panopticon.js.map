{"version":3,"file":"panopticon.js","mappings":"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","sources":["webpack://panopticon/./src/game/features/saveLoad.ts","webpack://panopticon/./src/game/st/listeners.ts","webpack://panopticon/./src/game/template/classes/CMD/CMD.ts","webpack://panopticon/./src/game/template/classes/Entities/Area.ts","webpack://panopticon/./src/game/template/classes/Entities/Item.ts","webpack://panopticon/./src/game/template/classes/Entities/NPC.ts","webpack://panopticon/./src/game/template/classes/Entities/Player.ts","webpack://panopticon/./src/game/template/classes/Game/Flag.ts","webpack://panopticon/./src/game/template/classes/Game/Message.ts","webpack://panopticon/./src/game/template/classes/Game/State.ts","webpack://panopticon/./src/game/template/classes/Mechanics/Cycle.ts","webpack://panopticon/./src/game/template/classes/Mechanics/Inventory.ts","webpack://panopticon/./src/game/template/classes/Participants/Human.ts","webpack://panopticon/./src/game/template/classes/ST/GameResponse.ts","webpack://panopticon/./src/game/template/instances/Area/Foyer.ts","webpack://panopticon/./src/game/template/instances/Game/Flags.ts","webpack://panopticon/./src/game/template/instances/Game/State.ts","webpack://panopticon/./src/game/template/instances/Item/Camera.ts","webpack://panopticon/./src/game/template/instances/NPC/Char.ts","webpack://panopticon/./src/game/template/instances/Player/Player.ts","webpack://panopticon/./src/st/slash-commands.ts","webpack://panopticon/./src/util/st.ts","webpack://panopticon/./src/util/utils.ts","webpack://panopticon/external module \"../../../../../script.js\"","webpack://panopticon/external module \"../../../../extensions.js\"","webpack://panopticon/external module \"../../../../slash-commands.js\"","webpack://panopticon/external module \"../../../../slash-commands/SlashCommand.js\"","webpack://panopticon/external module \"../../../../slash-commands/SlashCommandArgument.js\"","webpack://panopticon/external module \"../../../../slash-commands/SlashCommandEnumValue.js\"","webpack://panopticon/external module \"../../../../slash-commands/SlashCommandParser.js\"","webpack://panopticon/webpack/bootstrap","webpack://panopticon/webpack/runtime/define property getters","webpack://panopticon/webpack/runtime/hasOwnProperty shorthand","webpack://panopticon/webpack/runtime/make namespace object","webpack://panopticon/./src/index.ts"],"sourcesContent":["import { gameLog } from \"../../util/utils\";\nimport { State } from \"../template/classes/Game/State\";\n\nexport function saveGameState(state: State) {\n    const serializedState = JSON.stringify(state);\n    gameLog('saveGameState', serializedState);\n    localStorage.setItem('panopticon_gameState', serializedState);\n}\n\nexport function loadGameState() {\n    const serializedState = localStorage.getItem('panopticon_gameState');\n    gameLog('loadGameState', serializedState);\n    return serializedState ? JSON.parse(serializedState) : null;\n}\n","import { getContext } from \"@sillytavern/extensions\";\nimport { $state } from \"../template/instances/Game/State\";\nimport { loadGameState, saveGameState } from \"../features/saveLoad\";\nimport { gameLog } from \"../../util/utils\";\n\n\nexport function registerListeners() {\n    const context = getContext();\n\n    // Extension load\n    gameLog('loaded');\n    gameLog('Game State', $state);\n\n    // e: chatLoaded\n    context.eventSource.on('chatLoaded', async () => {\n        gameLog('chatLoaded Fired');\n    });\n    // e: game-state-save\n    context.eventSource.on('game-state-save', async() => {\n        gameLog('Request for game save');\n        saveGameState($state);\n    });\n    // e: game-state-load\n    context.eventSource.on('game-state-load', async () => {\n        gameLog('Request for game load');\n        loadGameState();\n    });\n    // e: cmd-given\n    // context.eventSource.on('cmd-given')\n}\n","import { sendNarratorMessage } from \"@sillytavern/slash-commands\";\nimport { Able, Goable } from \"../../interfaces/Ables\";\nimport { Area } from \"../Entities/Area\";\nimport { NPC } from \"../Entities/NPC\";\nimport { Message, MessageStrategy, Role } from \"../Game/Message\";\nimport { State } from \"../Game/State\";\nimport { GameResponse } from \"../ST/GameResponse\";\n\nexport enum CMDTypes {\n  GO = \"GO\",\n  INSPECT = \"INSPECT\",\n  TALK = \"TALK\",\n  USE = \"USE\",\n  DO = \"DO\",\n}\n\nexport class CMD {\n  type: CMDTypes;\n  target: Able;\n  constructor(type: CMDTypes, target: Able) {\n    this.type = type;\n    this.target = target;\n  }\n\n  private async handleGO(state: State) {\n    // valid target?\n    const area = this.target as Area;\n    if (state.goables.includes(area)) {\n      // Can you go?\n      // Locked? refuse.\n      if (area.is_locked) {\n        const GR = new GameResponse();\n        // TODO: shorthand func sendNarrator(...);\n        await sendNarratorMessage(null, \"hello.\");\n        const refusal = new Message(\n          \"Locked...\",\n          MessageStrategy.script,\n          false,\n          Role.system,\n        );\n        GR.sendMessage(refusal);\n        // Follow ups. Char comments, or use key prompt, or.. etc.\n        // TODO: consider if we don't want a configuration at some point to let the player decide how this is handled.\n        // e.g: should Char comment if the door was locked? Don't waste player's resources, let them decide.\n      }\n      // Godel? handle.\n      // handleGodel();\n\n      // ...Go!\n      // We need to update current area in state + new goables.\n      // consider case where we have a hidden door only in goables after inspection/puzzle. Still needs to be in goables, but must be conditional. Every Area should have a way to know if it should show up at the moment. Flag check?\n    }\n  }\n\n  // private async handleTALK(state: State) {\n  //   const talkable = this.target as NPC;\n  //   if(state.talkables.includes(talkable)) {\n  //       const GR = new GameResponse();\n  //   }\n  // }\n\n  public async execute(state: State) {\n    switch (this.type) {\n      case CMDTypes.GO:\n        await this.handleGO(state);\n        break;\n      case CMDTypes.TALK:\n        // await this.handleTALK(state);\n        break;\n      case CMDTypes.INSPECT:\n        //\n        break;\n      case CMDTypes.USE:\n        //\n        break;\n      case CMDTypes.DO:\n        //\n        break;\n      default:\n      //\n    }\n  }\n}\n","import { Doable, Goable, Inspectable } from \"../../interfaces/Ables\";\nimport { Item } from \"./Item\";\nimport { NPC } from \"./NPC\";\n\nexport enum GodelType {\n  A = \"A\",\n  B = \"B\",\n}\n\nexport type ofGodelType = GodelType | null;\n\nexport type ofGodelCycle = number | null;\n\nexport class Area implements Goable {\n  id: string;\n  name: string;\n  description: string;\n  is_godel: boolean;\n  godel_type: ofGodelType;\n  godel_cycle_num: ofGodelCycle;\n  is_locked: boolean;\n  unlocked_by?: Item[];\n  goables: Goable[];\n  inspectables: Inspectable[];\n  doables: Doable[];\n  npcs: NPC[];\n  on_go: () => {};\n  on_exit: () => {};\n  is_saferoom: boolean;\n  should_be_goable?: boolean | (() => boolean);\n\n  constructor(\n    id: string,\n    name: string,\n    description: string,\n    is_godel: boolean,\n    godel_type: GodelType,\n    godel_cycle_num: number,\n    is_locked: boolean,\n    unlocked_by: Item[],\n    goables: Goable[],\n    inspectables: Inspectable[],\n    doables: Doable[],\n    npcs: NPC[],\n    on_go: () => {},\n    on_exit: () => {},\n    is_saferoom: boolean,\n    should_be_goable?: () => boolean,\n  ) {\n    this.id = id;\n    this.name = name;\n    this.description = description;\n    this.is_godel = is_godel;\n    this.godel_type = godel_type;\n    this.godel_cycle_num = godel_cycle_num;\n    this.is_locked = is_locked;\n    this.unlocked_by = unlocked_by;\n    this.goables = goables;\n    this.inspectables = inspectables;\n    this.doables = doables;\n    this.npcs = npcs;\n    this.on_go = on_go;\n    this.on_exit = on_exit;\n    this.is_saferoom = is_saferoom;\n    this.should_be_goable = should_be_goable ?? true;\n  }\n}\n","import { Usable } from \"../../interfaces/Ables\";\n\nexport class Item implements Usable {\n    id: string;\n    name: string;\n    description: string;\n    effect: string;\n    on_use: () => null;\n    item_comment: string;\n    count: number;\n\n    constructor(id: string, name: string, description: string, effect: string, on_use: () => null, item_comment: string, count: number = 0) {\n        this.id = id;\n        this.name = name;\n        this.description = description;\n        this.effect = effect;\n        this.on_use = on_use;\n        this.item_comment = item_comment;\n        this.count = count;\n    }\n}\n","import { Talkable } from \"../../interfaces/Ables\";\n\n// NPC is always an AI assistant.\nexport class NPC implements Talkable {\n    id: string;\n    description: string;\n    name: string;\n    on_talk: () => {};\n\n    constructor(id:string, name: string, description: string, on_talk: () => {}) {\n        this.id = id;\n        this.name = name;\n        this.description = description;\n        this.on_talk = on_talk;\n    }\n}\n","import { Human } from \"../Participants/Human\";\n\nexport class Player extends Human {\n    constructor(name) {\n        super(name);\n    }\n}\n","export class Flag {\n    name: string;\n    value: boolean;\n\n    constructor(name: string, value: boolean) {\n        this.name = name;\n        this.value = value;\n    }\n}\n","// High level representation of any ST message relative to the game\n// Message can be any actual piece of the VN: a dialogue, an inspection result, an action scene, the outcome of using an item etc.\n// All text in the game is contained in some sub-set of Message.\n// text: Some piece of text provided as input. We might do various things with it: output it verbatim, give it as part of a prompt injection, or create a caged response, etc.\n// strategy: [script, assistant, caged]\n// Script: Verbatim. A piece of the games script shown to the user with no generation involved.\n// Assistant: Generate a response based on x\n// Caged: Given X, generate a variation or adehere to some goal in a generated response (e.g: \"The key is old\": char specifically talks about this, generate a summary, evaluate a puzzle). Similar to assistant, but with a specific output in mind.\n// Hidden: Whether to hide from AI and consider part of chat history. default false.\n// Role: ST role: assistant, user, system\n// Instruction: A piece of text used for some ai instruction\n\n// GameRequest ... [game logic] > State > Brain ... Message ... GameResponse\n\nexport enum MessageStrategy {\n  script = \"script\",\n  assistant = \"assistant\",\n  cage = \"cage\",\n}\n\nexport enum Role {\n  user = \"user\",\n  assistant = \"assistant\",\n  system = \"system\",\n}\n\nexport class Message {\n  text: string;\n  strategy: MessageStrategy;\n  hidden: boolean;\n  role: Role;\n  instruction?: string;\n  constructor(\n    text: string,\n    strategy = MessageStrategy.script,\n    hidden = false,\n    role = Role.system,\n    instruction?: string,\n  ) {\n    this.text = text;\n    this.strategy = strategy;\n    this.hidden = hidden;\n    this.role = role;\n    this.instruction = instruction;\n  }\n}\n","import { Doable, Goable, Inspectable, Talkable } from \"../../interfaces/Ables\";\nimport { CMD } from \"../CMD/CMD\";\nimport { Area } from \"../Entities/Area\";\nimport { NPC } from \"../Entities/NPC\";\nimport { Player } from \"../Entities/Player\";\nimport { Cycle } from \"../Mechanics/Cycle\";\nimport { Inventory } from \"../Mechanics/Inventory\";\nimport { GameEvent } from \"./Event\";\nimport { Flag } from \"./Flag\";\n\nexport class State {\n  user: Player;\n  char: NPC;\n  area: Area;\n  inventory: Inventory;\n  frozen_tear_count: number;\n  inspectables: Inspectable[];\n  goables: Goable[];\n  doables: Doable[];\n  talkables: Talkable[];\n  cycle: Cycle;\n  time: string;\n  flags: Flag[];\n  event_queue: GameEvent[];\n  cmd_queue: CMD[];\n  constructor(\n    user: Player,\n    char: NPC,\n    area: Area,\n    inventory: Inventory,\n    frozen_tear_count: number,\n    inspectables: Inspectable[],\n    goables: Goable[],\n    doables: Doable[],\n    talkables: Talkable[],\n    cycle: Cycle,\n    time: string,\n    flags: Flag[],\n    event_queue: GameEvent[],\n    cmd_queue: CMD[]\n  ) {\n    this.user = user;\n    this.char = char;\n    this.area = area;\n\n    this.inventory = inventory;\n    this.frozen_tear_count = frozen_tear_count;\n\n    this.inspectables = inspectables;\n    this.goables = goables;\n    this.doables = doables;\n    this.talkables = talkables;\n\n    this.cycle = cycle;\n    this.time = time;\n\n    this.flags = flags;\n\n    this.event_queue = event_queue;\n    this.cmd_queue = cmd_queue;\n  }\n\n  private processCmdQueue() {\n    this.cmd_queue.forEach((Cmd) => {\n      Cmd.execute(this);\n    });\n  }\n\n  public update() {\n    // If theres CMDs; process\n    this.processCmdQueue();\n    //\n    // this.processEventQueue();\n  }\n}\n","// A timeline or cycle, containing its event, number, etc.\nexport class Cycle {\n    number: number;\n    constructor(number: number) {\n        this.number = number;\n    }\n}\n","import { Item } from \"../Entities/Item\";\n\nexport class Inventory {\n    items: Item[];\n    size: number;\n    constructor(items: Item[], size: number) {\n        this.items = items;\n        this.size = size;\n    }\n}\n","// Represents the human player\nexport class Human {\n    name:string;\n    constructor(name: string) {\n        this.name = name;\n    }\n}\n","// Type: type of message\n\nimport { Message } from \"../Game/Message\";\nimport { Generate } from \"@sillytavern-script\";\nimport { sendMessageAs } from \"@sillytavern/slash-commands\";\nimport { st_sendMessage } from \"../../../../util/st\";\nimport { gameLog } from \"../../../../util/utils\";\n\n// Any response\nexport class GameResponse {\n  // constructor() {}\n  public sendMessage(message: Message) {\n    // Send a message if one is provided\n    const sent = st_sendMessage(message);\n    gameLog(\"GameResponse\", sent);\n  }\n  // Trigger a message generation with optional input\n  public async generate(text: string) {\n    await Generate(\"\");\n  }\n}\n","import { Area } from \"../../classes/Entities/Area\";\nimport { Event_EnterMansion } from \"../Game/Events\";\n\nexport const Area_Foyer = new Area(\n  \"foyer\",\n  \"Foyer\",\n  \"The Foyer.\",\n  false,\n  null,\n  null,\n  false,\n  [],\n  [],\n  [],\n  [],\n  [],\n  null,\n  null,\n  false\n);\n","import { Flag } from \"../../classes/Game/Flag\";\n\nexport const DID_FIRST_TUTORIAL = new Flag(\"FIRST_TUTORIAL\", false);\n","import { State } from \"../../classes/Game/State\";\nimport { Cycle } from \"../../classes/Mechanics/Cycle\";\nimport { Inventory } from \"../../classes/Mechanics/Inventory\";\nimport { Area_Foyer } from \"../Area/Foyer\";\nimport { Item_Camera } from \"../Item/Camera\";\nimport { $char } from \"../NPC/Char\";\nimport { $player } from \"../Player/Player\";\nimport { DID_FIRST_TUTORIAL } from \"./Flags\";\n\n\nconst startingArea = Area_Foyer;\nconst startingInventory = new Inventory([Item_Camera], 5);\nconst startingTime = \"16:31\";\nconst startingCycle = new Cycle(0);\n\nexport const $state = new State(\n  $player,\n  $char,\n  startingArea,\n  startingInventory,\n  0,\n  startingArea.inspectables,\n  startingArea.goables,\n  startingArea.doables,\n  [$char],\n  startingCycle,\n  startingTime,\n  [DID_FIRST_TUTORIAL],\n  [],\n  []\n);\n","import { Item } from \"../../classes/Entities/Item\";\n\nexport const Item_Camera = new Item(\"camera\",\"Camera\", \"A regular camera.\", \"It's a camera.\", () => null, \"You take a picture.\", 1);\n","import { NPC } from \"../../classes/Entities/NPC\";\n\nexport const $char = new NPC(\"char\", \"char's name from ST\", \"char is... something.\", () => { console.log(\"you talked to char.\"); return null });\n","import { Player } from \"../../classes/Entities/Player\";\n\nexport const $player = new Player(\"st {{user}}\");\n","import { eventSource } from '@sillytavern-script';\nimport { SlashCommand } from '@sillytavern/slash-commands/SlashCommand';\nimport { SlashCommandArgument, ARGUMENT_TYPE, SlashCommandNamedArgument } from '@sillytavern/slash-commands/SlashCommandArgument';\nimport { SlashCommandEnumValue, enumTypes } from '@sillytavern/slash-commands/SlashCommandEnumValue';\nimport { SlashCommandParser } from '@sillytavern/slash-commands/SlashCommandParser';\nimport { CMDTypes, CMD } from '../game/template/classes/CMD/CMD';\nimport { $state } from '../game/template/instances/Game/State';\nimport { Able } from '../game/template/interfaces/Ables';\n\nconst cmd_types = {\n  GO: \"GO\",\n  INSPECT: \"INSPECT\",\n  TALK: \"TALK\",\n  USE: \"USE\",\n  DO: \"DO\",\n};\n\nasync function slash_emitEvent(pipe) {\n  console.log(pipe, \"event from slash_emitEvent\");\n  await eventSource.emit(pipe);\n  return \"\";\n}\n\nasync function slash_processCMD(pipe) {\n  const { type, target } : {type: CMDTypes, target: Able} = pipe;\n\n  console.log(`TYPE:`, type);\n  console.log(`TARGET:`, target);\n  await eventSource.emit(\"cmd-given\");\n\n  const newCmd = new CMD(type, target);\n  $state.cmd_queue.push(newCmd);\n\n  $state.update();\n\n  return \"\";\n}\n\nasync function slash_emitEvent_gameStateSave() {\n  await eventSource.emit(\"game-state-save\");\n  return \"\";\n}\n\nasync function slash_emitEvent_gameStateLoad() {\n  await eventSource.emit(\"game-state-load\");\n  return \"\";\n}\n\nexport function registerSlashCommands() {\n  // > /emit\n  SlashCommandParser.addCommandObject(\n    SlashCommand.fromProps({\n      name: \"emit\",\n      callback: slash_emitEvent,\n      aliases: [\"e\", \"event\", \"emit-event\"],\n      unnamedArgumentList: [\n        SlashCommandArgument.fromProps({\n          description: \"Name of custom event\",\n          typeList: [ARGUMENT_TYPE.STRING],\n          isRequired: true,\n        }),\n      ],\n      helpString: \"Emit a custom event.\",\n    })\n  );\n\n  // > /@cmd\n  SlashCommandParser.addCommandObject(\n    SlashCommand.fromProps({\n      name: \"@cmd\",\n      callback: slash_processCMD,\n      aliases: [\"game-cmd\"],\n      namedArgumentList: [\n        SlashCommandNamedArgument.fromProps({\n          name: \"type\",\n          description: \"Type of command\",\n          typeList: [ARGUMENT_TYPE.STRING],\n          enumList: [\n            new SlashCommandEnumValue(\n              cmd_types.GO,\n              cmd_types.GO,\n              enumTypes.enum\n            ),\n            new SlashCommandEnumValue(\n              cmd_types.INSPECT,\n              cmd_types.INSPECT,\n              enumTypes.enum\n            ),\n            new SlashCommandEnumValue(\n              cmd_types.TALK,\n              cmd_types.TALK,\n              enumTypes.enum\n            ),\n            new SlashCommandEnumValue(\n              cmd_types.USE,\n              cmd_types.USE,\n              enumTypes.enum\n            ),\n            new SlashCommandEnumValue(\n              cmd_types.DO,\n              cmd_types.DO,\n              enumTypes.enum\n            ),\n          ],\n          isRequired: true,\n        }),\n        SlashCommandNamedArgument.fromProps({\n          name: \"target\",\n          description:\n            \"Unique identifier indicating what the command is targeting.\",\n          typeList: [ARGUMENT_TYPE.STRING],\n          isRequired: true,\n        }),\n      ],\n      helpString: \"Send a request for a game command.\",\n    })\n  );\n\n  // > /@save\n  SlashCommandParser.addCommandObject(\n    SlashCommand.fromProps({\n      name: \"@save\",\n      callback: slash_emitEvent_gameStateSave,\n      aliases: [\"game-save\", \"game-state-save\"],\n      helpString:\n        \"DEV: Shorthand to emit game-state-save event, which requests to save current game state into localStorage.\",\n    })\n  );\n\n  // > /@load\n  SlashCommandParser.addCommandObject(\n    SlashCommand.fromProps({\n      name: \"@load\",\n      callback: slash_emitEvent_gameStateLoad,\n      aliases: [\"game-load\", \"game-state-load\"],\n      helpString:\n        \"DEV: Shorthand to emit game-state-load event, which requests to load current game state from localStorage.\",\n    })\n  );\n}\n","import { sendMessageAsUser } from \"@sillytavern-script\";\nimport {\n  executeSlashCommandsWithOptions,\n  sendMessageAs,\n  sendNarratorMessage,\n} from \"@sillytavern/slash-commands\";\nimport { Message, Role } from \"../game/template/classes/Game/Message\";\n\nexport function st_setvar(\n  key: string,\n  value: string,\n  scope_local = true,\n  parserOptions = {}\n) {\n  return executeSlashCommandsWithOptions(\n    `/set${scope_local ? \"\" : \"global\"}var key=\"${key}\" ${value}`,\n    parserOptions\n  );\n}\n\nexport function st_getvar(\n  key: string,\n  index: string,\n  scope_local = true,\n  parserOptions = {}\n) {\n  return executeSlashCommandsWithOptions(\n    `/get${scope_local ? \"\" : \"global\"}var key=\"${key}\"`,\n    parserOptions\n  );\n}\n\n// async function st_sendSystemMessage(\n//   text: string,\n//   compact = false,\n//   hidden = false\n// ) {\n//   return await executeSlashCommandsWithOptions(\n//     `/sys compact=${compact} ${text}`,\n//     {}\n//   );\n// }\n\nexport async function st_sendMessage(message: Message) {\n  const { text, hidden, role, strategy, instruction } = message;\n  switch (message.role) {\n    case Role.system:\n      return await sendNarratorMessage({ compact: true }, text);\n      break;\n    case Role.user:\n      //   return await sendMessageAsUser(text, null, null, false);\n      break;\n    case Role.assistant:\n      //   return await sendMessageAs(null, text);\n      break;\n    default:\n      break;\n  }\n}\n","const extensionName = \"Panopticon\";\n\nexport function gameLog(label, ...args) {\n  console.log(`[${extensionName}] ${label}`, ...args);\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__script_js_588e7203__;","module.exports = __WEBPACK_EXTERNAL_MODULE__extensions_js_e625da88__;","module.exports = __WEBPACK_EXTERNAL_MODULE__slash_commands_js_f5742a84__;","module.exports = __WEBPACK_EXTERNAL_MODULE__slash_commands_SlashCommand_js_1b0d5616__;","module.exports = __WEBPACK_EXTERNAL_MODULE__slash_commands_SlashCommandArgument_js_a42b9371__;","module.exports = __WEBPACK_EXTERNAL_MODULE__slash_commands_SlashCommandEnumValue_js_20f1c506__;","module.exports = __WEBPACK_EXTERNAL_MODULE__slash_commands_SlashCommandParser_js_42c8b851__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerListeners } from \"./game/st/listeners\";\nimport { $state } from \"./game/template/instances/Game/State\";\nimport { registerSlashCommands } from \"./st/slash-commands\";\nimport { gameLog } from \"./util/utils\";\n\nregisterSlashCommands();\n\njQuery(async () => {\n    try {\n        registerListeners();\n        gameLog(\"Gamestate:\", $state);\n    } catch (error) {\n        console.error('[Panopticon] ERROR:', error);\n    }\n});\n\n// Game | state > ST | CMD > Game | state > ST...\n"],"names":[],"sourceRoot":""}